# 下载日志

本页面为您介绍下载日志的操作步骤。

## 下载范围

您可在多个页面的下载日志入口，进入 **日志查询** 页面，并根据筛选条件选择具体范围内的日志进行下载。下载日志入口如下：

* 在集群 **概览** 页面，将光标悬停至右上角更多图标，在下拉列表中单击 **下载日志** 。

* 在 OBProxy 集群 **概览** 页面，将光标悬停至右上角更多图标，在下拉列表中单击 **下载全部日志** 。

* 在主机 **基本信息** 页签中，单击 **下载日志** 。

* 在 **日志服务** 的 **日志查询** 页面，在日志查询结果右上角单击 **下载日志**。

## 选择时间

您可选择距当前近 5 分钟、近 10 分钟、近 15 分钟、近 30 分钟、近 1 小时、近 3 小时、近 6 小时、近 12 小时、近 24 小时或近 7 天的时间，也可自定义选择日志中包含数据的开始时间和结束时间。

![1](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9758960261/p271674.png)

## 对象范围

您可选择查看具体主机的日志，查看范围包括 **OceanBase 集群**、**仲裁服务**、**OBProxy 集群**、**Binlog Server**、**Binlog 实例**、**主机**。

## 日志类型

日志类型信息如下：

|     日志类型       |  说明  |
|--------------------|--------|
| OB 日志            | `安装路径/log/` 目录下所有的日志。</br>日志清理策略由 OCP 系统参数 `ocp.agent.ob-cleaner.config` 控制，具体为：<ul><li> 日志盘使用率小于阈值时（默认为 80%），不清理。   </li><li> 日志盘使用率大于阈值时，首先根据保留天数，清理超过指定时间之前的日志。 </li><li> 如果清理后日志盘使用率小于阈值则清理结束。   </li><li> 如果当前日志盘仍然超过阈值，则按照保留百分比删除多余的日志。  </li></ul>    |
| 仲裁服务日志       | `/home/admin/oceanbase/log/` 目录下 **arbitration_service** 类型的日志。 |
| OBProxy 日志       | `/home/admin/logs/obproxy/log/` 目录下所有的日志。  |
| Binlog Server 日志 | `安装路径/log/` 目录下的所有日志。  |
| Binlog 实例日志    | `安装路径/run/实例名/log` 目录下的所有日志。 |
| 主机日志           | `/var/log` 路径下的 **message-日期** 文件。  |
| OCP Agent 日志     | `/home/admin/ocp_agent/log/` 目录下所有的日志。|

## 关键字

您可根据包含关键字或排除关键字条件进行日志筛选，系统会对对应关键字严格匹配。不区分大小写，此操作为可选操作。

* 包含关键字：日志查询时会筛选出含该关键字的日志。支持对多个关键字进行正则匹配和普通匹配。
* 排除关键字：日志查询时会过滤含该关键字的日志。支持对多个关键字进行排除。

支持对多个关键字进行正则匹配和普通匹配，日志查询时会筛选出含该关键字的日志；选择排除关键字时，日志查询时会过滤含该关键字的日志，支持对多个关键字进行排除。此操作为可选操作。

## 日志级别

您可在日志级别下拉框中选择日志的告警级别，包括 ERROR、WARN、INFO、WDIAG、EDIAG、TRACE 和 DEBUG 七个级别，此操作为可选操作。
