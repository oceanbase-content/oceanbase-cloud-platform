# 新建告警推送

通过新建告警推送，系统会将平台产生的告警消息通过指定的告警通道通知用户。

## 前提条件

已 [新建告警规则](../300.manage-alert-rules/100.create-an-alert-rule.md) 。

## 操作步骤

1. 登录 OCP。

2. 在左侧导航栏中选择 **监控告警** **\>** **告警** 。

3. 进入 **告警推送** 页签，单击 **告警推送配置** 按钮。

4. 进入 **新建推送** 页面，在 **推送配置** 模块选择推送类型。

   系统支持 **告警模板** 推送和 **告警分组** 推送两种模式。

   * **告警模板**

      当选择 **告警模板** 推送时，页签下方将展示系统中所有的告警模板，勾选需要推送消息的模板，告警消息将推送至该模板中的所有对象。

    <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>当告警模板未设置告警对象时，该模板将置灰无法进行勾选。您可参考 <a href="../400.manage-alert-templates/200.set-alert-objects.md">设置告警对象</a> 为告警模板添加告警对象。</p>
    </main>

      ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/401/%E5%91%8A%E8%AD%A6%E6%A8%A1%E6%9D%BF%E6%8E%A8%E9%80%811.png)

   * **告警分组**

      当选择 **告警分组** 推送时，您可选择将告警消息推送至指定对象。若您不设置指定对象，系统将根据分组配置规则及告警对象配置推送告警消息。

      <main id="explain" type='alert'>
      <h4>说明</h4>
      <p><ul><li>需要为应用至少选择一个对象范围。</li><li>OCP 应用中，当对象范围选择 <b>服务</b> 及 <b>备份恢复</b> 时，无需配置指定对象。</li><li>OMS 应用中，当对象范围选择 <b>服务</b> 时，无需配置指定对象。</li></ul></p>
      </main>

      ![2](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/402-cn/%E5%91%8A%E8%AD%A6%E5%88%86%E7%BB%84.png)

5. 在 **推送消息配置** 模块配置以下内容：

   1. 选择推送消息语言，支持 **简体中文**、**繁体中文** 和 **英文**。

   2. 配置告警方式，包括 **告警等级** 和 **告警通道**。

      在需推送的告警等级后选择其通知的通道，若您不想在某个时间段接收告警推送消息，可设置 **指定时间通知** ，不设置则表示全天接收告警消息通知。

      <main id="notice" type='explain'>
      <h4>说明</h4>
      <p>您需至少为一个告警等级配置告警通道。</p>
      </main>

      ![3](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/401/%E6%8E%A8%E9%80%81%E6%B6%88%E6%81%AF%E8%AF%AD%E8%A8%801.png)

   3. 选择是否开启 **告警消息接收限制**。

      开启后可以限定告警通道发送消息的数量，当超过告警接收限制，告警通道将不再推送告警消息。

      ![4](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/401/%E5%91%8A%E8%AD%A6%E6%B6%88%E6%81%AF%E6%8E%A5%E6%94%B6%E9%99%90%E5%88%B61.png)

   4. 选择是否开启 **恢复通知**。

      开启后，推送的告警规则恢复正常时，会发送通知消息。

   5. 选择是否 **启用推送**。

      对于创建后暂时不再使用的告警推送，您后续可在此处对其进行禁用。

6. 单击 **提交**。
