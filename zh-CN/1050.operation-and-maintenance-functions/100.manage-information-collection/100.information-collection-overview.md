# 信息采集概述

<main id="notice" type='notice'>
<h4>功能适用性</h4>
<p>该内容仅适用于 OCP 企业版，OCP 社区版不提供此功能。</p>
</main>

OceanBase 数据库是原生分布式数据库系统，当故障产生时，涉及故障的因素可能有很多，如机器环境、配置参数、运行负载等等。因此，在进行故障根因分析的过程中，用户收集排查信息的操作通常会比较繁琐，从而导致排查时间耗时较长、效率较低，甚至导致故障升级（长时间未处理，影响范围变大）。

OCP 提供统一的信息采集功能，信息采集主要用于获取指定时间区间内的部分关键信息以及异常信息，以便您进行故障的排查与运维。当告警事件产生后，OCP 会收集系统运转中的易失信息，方便您针对不同故障场景进行管控，并对故障进行定制化处理。

OCP 的信息采集会保存了每一个采集任务的元信息，主要包括 **信息采集 ID**、**对象类型**、**对象**、**信息采集区间**、**采集起止时间**、**状态**、**事件类型**、**事件名称** 等，并支持对采集任务进行运维操作。

* 您可通过 **信息采集 ID** 或 **对象名** 对采集信息进行搜索。

* 支持查看 **运行中**、**失败**、**已取消**、**已完成** 状态的信息采集任务，针对不同状态的任务，您可进行对应地操作：

  * 支持对 **运行中** 的信息采集任务进行 **取消**。

  * 支持对 **已完成** 的信息采集任务进行 **查看** 和 **下载** 操作。

## 操作流程

信息采集主要分为如下 4 个步骤：

1. [配置信息采集项](200.configure-information-collection-items.md)。信息采集项即信息采集触发源，在内置的采集项中，您可对采集触发源进行调整，关闭不需要的触发源。

2. [创建信息采集任务](300.create-a-information-collection.md)。您可手动触发采集任务，即时获取采集对象的异常信息。

3. [查看信息采集详情](400.view-information-collection.md)。查看故障信息采集详情，包括 **详情**、**采集对象基本信息**、**告警汇总信息**、**OB 层异常检查**、**最近变更** 及 **内部事件**，您可从中提取所需信息来定位故障原因。

4. [下载信息采集报告](500.manage-information-collection-reports.md)。支持将信息采集报告下载至本地进行查看。

## 信息采集列表说明

|  参数  |  取值  |  说明  |
|--------|--------|--------|
|  信息采集 ID  |  信息采集任务的唯一标识  |  支持模糊搜索。   |
|  对象类型  | 分为 **集群**、**租户**、**OBProxy** 和 **主机** 四种对象类型  | 支持过滤。  |
|  对象  |  与 **对象类型** 一一对应  |  主机按照集群（OceanBase 集群 & OBProxy 集群）维度进行展示，支持过滤。  |
|  信息采集区间 |  事件的信息采集范围  |  触发采集后，系统默认采集最近 10 分钟的信息。当用户手动创建信息采集任务时，信息采集区间以用户配置为准。 |
|  采集起止时间  |  信息采集的开始时间及结束时间  |  -  |
|  状态  |  **运行中**、**失败**，**已取消**、**已完成**  |  支持过滤。  |
|  事件类型  |  触发信息采集的事件类型  |  包括 **告警** 和 **手动创建** 两种类型，支持过滤。  |
|  事件名称  |  触发信息采集的事件名称  |  仅 **告警** 类型的事件存在事件名称。  |
|  操作  |  对信息采集任务执行运维操作  |  支持对 **运行中** 的信息采集任务进行取消；支持对 **已完成** 的信息采集任务进行查看和下载操作。 |
