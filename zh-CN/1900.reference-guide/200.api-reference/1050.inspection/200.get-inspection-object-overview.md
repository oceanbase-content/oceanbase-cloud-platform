# 获取某一类对象的巡检对象概览

## 功能说明

该接口用于获取某一类对象的巡检对象概览。

## 调用说明

### 接口约束

调用者需要通过 OCP 应用服务鉴权。

### 请求路径

`GET /api/v2/inspection/overview`

### 请求参数

|  参数  |  类型  |  必选  |  示例值  |  描述  |
|--------|--------|--------|----------|--------|
|  objectIds  |  Integer  |  是  | 1   |  巡检对象在 OCP 中的 ID，如集群 ID、租户 ID，多个 ID 时使用 `,` 分隔。  |
|  inspectionObjectType  |  Array  |  是  |  OB_CLUSTER  |  对象类型，包括：<li>OB_CLUSTER：集群。</li><li>OB_TENANT：租户。</li><li> HOST：主机。</li><li> OB_PROXY：OBProxy。</li>  |
|  scheduleStates  |  Array  |  是  |  ACTIVE  |  调度状态，包括：<li>已启用：ACTIVE。</li><li>已关闭：INACTIVE。</li><li>已过期：EXPIRED。</li>  |
|  name  |  String  |  是  |  cluster_test   |  巡检对象名称。  |
|  parentName  |  String  |  否  |  AdminMeta  |  巡检对象的父对象名称。  |

### 返回结果

**基础数据结构**

|  参数  |  类型  | 说明       |
|--------|--------|----------------------------------|
|  data  |  Object  | InspectionObjectOverview 的信息，详情参见下表。 |
|  successful  |  Boolean | 请求是否成功。                          |
|  timestamp |  Datetime  | 服务端完成请求的时间戳。                     |
|  duration |  Integer  | 服务端处理请求的时间（毫秒）。                  |
|  status |  Integer  | 符合 HTTP Status 规范的编码。            |
|  traceId |  String  | 请求的 Trace ID，用于排查问题。             |
|  server  |  String  | 响应请求的应用服务的地址。                    |

**`InspectionObjectOverview` 的数据结构**

|  参数  |  类型  |  说明  |
|--------|--------|--------|
|  inspectionObject  |  InspectionObject  |  InspectionObject 的信息，详情参见下表。  |
|  scheduleState  |  String  |  巡检调度状态。  |
|  deadline  |  String  |  巡检调度截止时间，为空表示没有截止时间。  |

**`InspectionObject` 的数据结构**

|  参数  |  类型  |  说明  |
|--------|--------|--------|
|  objectId  |  Integer  |  巡检对象 ID。  |
|  inspectionObjectType  |  String  |  巡检对象类型，包括：<li>OB_CLUSTER: 集群。</li><li>OB_TENANT: 租户。</li><li> HOST: 主机。</li><li> OB_PROXY: OBProxy。</li>  |
|  name  |  String  |  巡检对象名称。  |

## 示例

### 请求示例

`GET /api/v2/inspection/overview`

### 返回示例

```JSON
{
    "data": {
        "contents": [
            {
                "inspectionObject": {
                    "info": {
                        "obClusterId": "12",
                        "type": "PRIMARY"
                    },
                    "inspectionObjectType": "OB_CLUSTER",
                    "name": "OB_TEST_1",
                    "objectId": 1
                },
                "scheduleState": "INACTIVE"
            }
        ],
        "page": {
            "number": 1,
            "size": 10,
            "totalElements": 1,
            "totalPages": 1
        }
    },
    "duration": 31,
    "server": "124075fe52",
    "status": 200,
    "successful": true,
    "timestamp": "2024-07-30T16:21:34.918+08:00",
    "traceId": "72232d83a8af3bf6"
}
```
