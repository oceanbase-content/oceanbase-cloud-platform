# 对象数量

本节为您介绍 OceanBase 租户的监控指标 **对象数量** ，对象数量仅统计用户创建的表以及全局索引的主分区/副本分区数量。您可指定统计范围，查询租户在单个 Zone 或 OBServer 节点的 **对象数量**。

## primary_leaders

### 指标介绍

统计范围内，租户主分区 Leader 数量。

### 指标参数说明

|   **指标项**   |         **指标名称**          | **单位** |
|-------------|-----------------------|--------|
|  primary_leaders | primary_leaders_cnt | 个     |

### 计算表达式

sum(primary_leaders_cnt{@LABELS}) by (@GBLABELS)

### 采集 SQL

OceanBase V4.0.0.0 及以上版本：

```sql
SELECT tenant_id, svr_ip, svr_port, count(*) as cnt FROM CDB_OB_TABLE_LOCATIONS WHERE ROLE = 'leader' AND TABLE_ID > 500000 GROUP BY TENANT_ID, SVR_IP, SVR_PORT
```

## partition_replicas

### 指标介绍

统计范围内，租户副本数量。

### 指标参数说明

|   **指标项**   |         **指标名称**          | **单位** |
|-------------|-----------------------|--------|
|  partition_replicas | partition_replicas_cnt | 个      |

### 计算表达式

sum(partition_replicas_cnt{@LABELS}) by (@GBLABELS)

### 采集 SQL

OceanBase V4.0.0.0 及以上版本：

```sql
SELECT tenant_id, SVR_IP, SVR_PORT, count(*) as cnt FROM CDB_OB_TABLE_LOCATIONS WHERE TABLE_ID > 500000 GROUP BY TENANT_ID, SVR_IP, SVR_PORT
```

## log_stream_leaders

### 指标介绍

统计范围内，租户日志流 Leader 数量。

### 指标参数说明

|   **指标项**   |         **指标名称**          | **单位** |
|-------------|-----------------------|--------|
|   log_stream_leaders | log_stream_leaders_cnt | 个      |

### 计算表达式

sum(log_stream_leaders_cnt{@LABELS}) by (@GBLABELS)

### 采集 SQL

OceanBase V4.0.0.0 及以上版本：

```sql
SELECT tenant_id, SVR_IP, SVR_PORT, count(*) as cnt FROM CDB_OB_LS_LOCATIONS  WHERE ROLE = 'leader' GROUP BY TENANT_ID, SVR_IP, SVR_PORT
```
