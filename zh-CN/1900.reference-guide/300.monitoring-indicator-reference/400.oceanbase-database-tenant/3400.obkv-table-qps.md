# QPS

本节为您介绍租户 OBKV_Table 类型监控项的性能指标 QPS（Query Per Second，每秒处理 SQL 语句数）。包括分别针对 Select 语句，Insert 语句、Update 语句、Replace 语句、Delete 语句、Query and mutate 语句的指标及针对所有类型的语句的细分指标。您可指定统计范围，查询租户在单个 Zone 或 OBServer 节点的 OBKV_Table 类型的 **QPS** 数据。

## all

### 指标介绍

每秒处理 SQL 语句数。

### 指标参数说明

| **指标项** |   **指标名称**    | **单位** |
|---------|---------------|--------|
| all     | obkv_table_sql_all_count | 次      |

### 计算表达式

sum(rate(ob_sysstat{stat_id="190001",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190101",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190201",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190301",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190401",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190501",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191101",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191201",@LABELS}[@INTERVAL])) by (@GBLABELS) R_FILL_0_ADD sum(rate(ob_sysstat{stat_id="191301",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190003",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190103",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190203",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190303",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190403",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190503",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191103",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191203",@LABELS}[@INTERVAL])) by (@GBLABELS) R_FILL_0_ADD sum(rate(ob_sysstat{stat_id="191303",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190901",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190904",@LABELS}[@INTERVAL])) by (@GBLABELS)

### SQL 采集

* OceanBase V4.0 以下版本：

  ```sql
   select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

## select

### 指标介绍

每秒处理 Select 语句数。

### 指标参数说明

| **指标项** |     **指标名称**     | **单位** |
|---------|------------------|--------|
| select  | obkv_table_sql_select_count | 次      |

### 计算表达式

sum(rate(ob_sysstat{stat_id="190001",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190003",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190901",@LABELS}[@INTERVAL])) by (@GBLABELS)

### SQL 采集

* OceanBase V4.0 以下版本：

  ```sql
  select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

## insert

### 指标介绍

每秒处理 Insert 语句数。

### 指标参数说明

| **指标项** |     **指标名称**     | **单位** |
|---------|------------------|--------|
| insert  | obkv_table_sql_insert_count | 次      |

### 计算表达式

 sum(rate(ob_sysstat{stat_id="190101",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190401",@LABELS}[@INTERVAL])) by (@GBLABELS) R_FILL_0_ADD sum(rate(ob_sysstat{stat_id="191301",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190103",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190403",@LABELS}[@INTERVAL])) by (@GBLABELS) R_FILL_0_ADD sum(rate(ob_sysstat{stat_id="191303",@LABELS}[@INTERVAL])) by (@GBLABELS)

### SQL 采集

* OceanBase V4.0 以下版本：

  ```sql
  select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

## update

### 指标介绍

每秒处理 Update 语句数。

### 指标参数说明

| **指标项** |     **指标名称**     | **单位** |
|---------|------------------|--------|
| update  | obkv_table_sql_update_count | 次      |

### 计算表达式

sum(rate(ob_sysstat{stat_id="190301",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191101",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191201",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190303",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191103",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="191203",@LABELS}[@INTERVAL])) by (@GBLABELS)

### SQL 采集

* OceanBase V4.0 以下版本：

  ```sql
  select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

## replace

### 指标介绍

每秒处理 Replace 语句数。

### 指标参数说明

| **指标项** |     **指标名称**      | **单位** |
|---------|-------------------|--------|
| replace | obkv_table_sql_replace_count | 次      |

### 计算表达式

sum(rate(ob_sysstat{stat_id="190501",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190503",@LABELS}[@INTERVAL])) by (@GBLABELS)

### SQL 采集

* OceanBase V4.0 以下版本：

  ```sql
  select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

## delete

### 指标介绍

每秒处理 Delete 语句数。

### 指标参数说明

| **指标项** |     **指标名称**     | **单位** |
|---------|------------------|--------|
| delete  | obkv_table_sql_delete_count | 次      |

### 计算表达式

sum(rate(ob_sysstat{stat_id="190201",@LABELS}[@INTERVAL])) by (@GBLABELS) + sum(rate(ob_sysstat{stat_id="190203",@LABELS}[@INTERVAL])) by (@GBLABELS)

### SQL 采集

* OceanBase V4.0 以下版本：

  ```sql
  select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

## query and mutate

### 指标介绍

每秒处理 Query and mutate 语句数。

### 指标参数说明

| **指标项** |    **指标名称**     | **单位** |
|---------|-----------------|--------|
| query and mutate   | obkv_table_sql_query_mutate_count | 次      |

### 计算表达式

sum(rate(ob_sysstat{stat_id="190904",@LABELS}[@INTERVAL])) by (@GBLABELS)

### 采集 SQL

* OceanBase V4.0 以下版本：

  ```sql
  select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

## other

### 指标介绍

每秒处理 DDL、DCL、DTL 等其他语句次数。

### 指标参数说明

| **指标项** |    **指标名称**     | **单位** |
|---------|-----------------|--------|
| other   | obkv_table_sql_other_count | 次      |

### 计算表达式

sum(rate(ob_sysstat{stat_id="190701",@LABELS}[@INTERVAL])) by (@GBLABELS)

### 采集 SQL

* OceanBase V4.0 以下版本：

  ```sql
  select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30082, 30083, 30084, 30085, 30086, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 60087, 80001, 80002, 80003, 80007, 80008, 80009, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200000, 200001, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```

* OceanBase V4.0 及以上版本：

  ```sql
  select /* MONITOR_AGENT */ con_id tenant_id, stat_id, value from v$sysstat where stat_id IN (10000, 10001, 10002, 10003, 10004, 10005, 10006, 20000, 20001, 20002, 30000, 30001, 30002, 30005, 30006, 30007, 30008, 30009, 30010, 30011, 30012, 30013, 30080, 30081, 30200, 30201, 30204, 30205, 30208, 30209, 30212, 30213, 30216, 30217, 30220, 30221, 30222, 40000, 40001, 40002, 40003, 40004, 40005, 40006, 40007, 40008, 40009, 40010, 40011, 40012, 40018, 40019, 40030, 40116, 40117, 40118, 50000, 50001, 50002, 50004, 50005, 50008, 50009, 50010, 50011, 50037, 50038, 60000, 60001, 60002, 60003, 60004, 60005, 60019, 60020, 60021, 60022, 60023, 60024, 80040, 80041, 80057, 120000, 120001, 120008, 120009, 130000, 130001, 130002, 130004, 140002, 140003, 140005, 140006, 140012, 140013, 190001, 190002, 190003, 190004, 190005, 190101, 190102, 190103, 190104, 190105, 190201, 190202, 190203, 190204, 190205, 190301, 190302, 190303, 190304, 190305, 190401, 190402, 190403, 190404, 190405, 190501, 190502, 190503, 190504, 190505, 190601, 190602, 190603, 190701, 190702, 190707, 190801, 190901, 190902, 190903, 190904, 190905, 190906, 191001, 191002, 191003, 191004, 191005, 191006, 191007, 191008, 191009, 191010, 191011, 191012, 191015, 191016, 191017, 191018, 191019, 191020, 191021, 191022, 191023, 191024, 191101, 191102, 191103, 191104, 191105, 191201, 191202, 191203, 191204, 191205, 191301, 191302, 191303, 191304, 191305, 200002, 200005, 200006, 200010, 200013) and (con_id > 1000 or con_id = 1)
  ```
