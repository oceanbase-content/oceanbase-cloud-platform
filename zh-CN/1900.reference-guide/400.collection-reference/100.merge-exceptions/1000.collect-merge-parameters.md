# 采集合并相关参数配置

## 采集描述

查询合并相关的参数配置。

## 采集原理

OceanBase V4.0.0 之前版本：

```sql
SELECT NULL tenant_id,zone,svr_ip,svr_port,name,value,info,section,scope,edit_level 
                              FROM __all_virtual_sys_parameter_stat 
                              WHERE name IN (
                                  'merge_thread_count', 
                                  'minor_freeze_times',
                                  'zone_merge_timeout',
                                  'zone_merge_concurrency',
                                  'default_progressive_merge_num',
                                  'merger_check_interval'
                              )
```

OceanBase V4.0.0 及之后版本：

```sql
SELECT tenant_id,zone,svr_ip,svr_port,name,value,info,section,scope,edit_level 
                            FROM __all_virtual_tenant_parameter_info 
                            WHERE name IN (
                                'compaction_low_thread_score', 
                                'major_freeze_duty_time',
                                'major_compact_trigger',
                                'default_progressive_merge_num',
                                'merger_check_interval'
                            )
```

参数含义说明：

* `merge_thread_count` ：用于设置每日合并工作的线程数。
* `minor_freeze_times` ：用于设置多少次转储触发一次全局合并。
* `zone_merge_timeout` ：用于设置单个 Zone 的合并超时时间。
* `zone_merge_concurrency` ：用于设置在合并时，支持多少个 Zone 并发。当值为 0 时，由系统根据部署情况自动选择最佳并发度。
* `default_progressive_merge_num` ：用于设置新建一张表时默认的渐进合并次数。
* `merger_check_interval` ：用于设置合并状态检查线程的调度间隔。
* `compaction_low_thread_score` ：用于设置低优先级 compaction 的工作线程占用 CPU 时间片权重。
* `major_freeze_duty_time` ：用于设置每日定时冻结和合并的触发时刻。
* `major_compact_trigger` ：用于设置多少次转储触发一次全局合并。
