# 采集 OB 内核 DAG 警告信息

## 采集描述

针对转储/合并失败的情况，查询 `__all_virtual_dag_warning_history` 虚拟表获取失败原因及 Trace ID。

## 采集原理

OceanBase V3.2.0 及之后版本：

```sql
SELECT * FROM __all_virtual_dag_warning_history;
```

## 处理方法

![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/432/%E5%BC%82%E5%B8%B8%E6%A3%80%E6%9F%A51.png)

获取 Trace ID 后，参考 `gmt_modified` 到对应时间范围内的 observer log 中查看具体的失败原因。
