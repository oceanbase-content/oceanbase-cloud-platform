# 收集统计信息

OCP 支持自动统计信息收集和手动统计信息收集两种方式。

## 自动收集统计信息

默认情况下，OceanBase 优化器通过维护窗口来进行每日自动统计信息收集，从而保证统计信息能够迭代更新。其中周一到周五的任务默认开始时间为 22:00，最大收集时长 4 小时，周六周日的默认开始时间为 6:00，最大收集时长为 20 小时。

您可以根据业务的实际情况合理的配置维护窗口。例如当维护窗口刚好与业务高峰重合，可以调整维护窗口的开始时间，或者在特定日期不做统计信息收集。当业务环境中表的数量很多，或存在很多超大表的时候，可以调整维护窗口的收集时长。

* *此处会介绍如何配置自动统计信息*

* *是否需要对自动统计信息的参数进行解释？*

## 手动收集统计信息

当存在超大表或过多表的场景下，优化器的默认统计信息收集策略可能会导致表的统计信息在一次维护窗口中收集不完，此时可进行手动收集统计信息。根据收集对象的不同，手动收集分为收集 Schema 级别统计信息和收集表级别统计信息两种

### 收集 Schema 级别统计信息

* *介绍如何收集 Schema 级别的统计信息（即单击 收集 Schema 统计信息）*
* *是否需要增加配置示例？*

### 收集表级别统计信息

* *介绍如何收集表级别的统计信息（即单击 统计信息表 > 收集）*
* *‘正常’ 状态时支持执行收集、锁定操作；锁定状态下支持解锁操作；分区表支持展开分区进行更细粒度收集表信息。*
