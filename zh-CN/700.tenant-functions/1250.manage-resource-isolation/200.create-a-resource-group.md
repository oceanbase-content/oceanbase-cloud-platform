# 创建资源组

为了确保租户间不出现资源争抢保障业务稳定运行，OceanBase 数据库针对租户间的资源进行了隔离，并通过资源组限制租户资源使用。您可先创建资源组，再为资源组创建资源管理计划。

## 前提条件

* 请确保当前登录 OCP 的用户具备如下权限：

  * **集群维护** 或 **租户维护** 资源权限。
  * 租户 **资源隔离** 菜单权限。

* 资源隔离功能依赖 Cgroup，请先为租户所属集群开启 Cgroup。
* 仅 OceanBase V4.1 及以上版本支持创建资源组。
* 不建议对系统 SYS 租户进行资源隔离。

## 操作步骤

1. 登录 OCP。

2. 在左侧导航栏选择 **租户** ，系统默认进入 **租户列表** 页签。

3. 在 **租户列表** 中选择待操作的租户并单击其租户名，进入租户 **概览** 页面。

4. 在左侧显示的导航栏中单击 **资源隔离** ，进入该租户的 **隔离计划** 页面。

5. 单击 **创建资源组** 按钮，在弹窗中配置资源组相关信息。

    |  参数  |  说明   |
    |--------|---------|
    |  资源组名称      |  支持输入新的资源组名称，资源组名称支持英文、数字、下划线组合，长度在 2 ~ 24。       |
    |  备注      |  （可选）配置资源组的备注信息，支持任意字符，长度在 1000 以内。      |
    |  资源隔离方式     |  选择需要配置的资源隔离方式，包括 **用户资源隔离**、**后台任务隔离** 和 **SQL 资源隔离**。支持多选，多选时展示对应的选项配置方式。|
    |  用户资源隔离 |  在下拉框中选择需要进行资源隔离的用户，用于指定用户与资源组的映射关系，使该用户执行的所有 SQL 使用的资源即为对应资源组分配的资源。<main id="notice" type='notice'><h4>注意</h4><p>一个用户只可属于一个资源组，如果当前用户已被其他资源组使用，则不可选择。</p></main>|
    |  后台任务隔离 |  在下拉框中选择当前支持的 FUNCTION，用于指定后台任务与资源组的映射关系，隔离各后台任务使用的资源。当前支持 8 种后台任务，详情可参考 [资源隔离概述](100.resource-isolation-overview.md) 中 **资源隔离方式** 的相关说明。 <main id="notice" type='notice'><h4>注意</h4><p>一个 FUNCTION 只可属于一个资源组，如果当前 FUNCTION 已被其他资源组使用，则不可选择。</p></main>      |
    |  SQL 资源隔离 |  用于通过 SQL 维度将业务绑定到不同的资源组，如指定 WHERE 条件，将不同订单的 SQL 使用不同资源组的资源。</br>支持输入 column 表达式，支持输入多个表达式，因为表达式比较隐晦，支持单击 **查看示例** 查看 SQL 填写的注意事项及填写示例。<main id="notice" type='notice'><h4>注意</h4><p>SQL 表达式如与其他资源组配置重复，将覆盖其他资源组 SQL 表达式配置。</p></main>       |

    ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/420/%E5%88%9B%E5%BB%BA%E8%B5%84%E6%BA%90%E7%BB%84.png)

6. 单击 **提交**。
