常见监控指标问题
=============================

本节描述 **集群概览** 、 **租户概览** 和 **OBProxy** 界面的常见监控指标问题。

显示
-----------------------

**Q1: 其他 PC 上的 Chrome 浏览器均能显示实时监控信息，而本机的 Chrome 不能，什么原因？**

A: 建议浏览器中调用 `/api/v2/time` 查看 OCP 的时间，并与本机时间对比，看是否相差太多。

**Q2: OCP 的实时监控不显示，检查了 OceanBase 三台机器的 exporter 都正常，在 OCP 主机上 `curl` OceanBase 机器也正常，怎么办？**

A: 可能浏览器所在机器的时间与 OCP 机器的时间差过大，建议保持在 30s 内。

集群
-----------------------

**Q1: OCP 集群界面，性能监控 Top5 无显示，其他监控页面大多数 504 错误，是为什么？**

A: 请检查您的网络是否正常，如网络正常建议更新 OCP 镜像至最新版本。

**Q2: OCP 集群界面，性能监控 Top5 的排序依据是什么？**

A：所选时间段内的指标值之和。

**Q3: 集群概览界面的磁盘已使用是多副本总和还是单个副本大小？**

A: 多副本总和。

**Q4: 集群概览界面的资源水位中已分配内存如何计算的？**

A: 租户在所有机器上分配的 Unit 内存规格之和与机器总内存比值。

**Q5: 系统内存为什么占了 900GB 那么大？**

A: OBServer 节点上租户所共享的那部分资源或功能被称为系统内部内存，系统内部内存也是系统内存的一部分。可通过系统参数 **system_memory_percentage** 来调节系统内部内存可占用系统内存的上限。

API
------------------------

**Q1: OCP 上的监控数据有 API 可以获取吗？**

A: 从 OCP V2.5.0 版本开始可获取，详见 [API 参考](../../1900.reference-guide/200.api-reference/100.api-overview.md) 。

**Q2: 按 [查询监控数据](../../1900.reference-guide/200.api-reference/900.monitoring/200.query-monitoring-data.md) 中描述， `interval` 传的是 60 ，那么返回结果里的采样点是按分钟聚合后的还是仅那一秒的？**

A: 按分钟聚合后的。
