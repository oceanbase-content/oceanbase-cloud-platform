# 查看行锁分析

本文为您介绍如何查看行锁分析。

## 前提条件

* 当前登录的用户具有租户管理权限。

## 操作步骤

1. 登录 OCP。

2. 在左侧导航栏中，单击 **自治服务**。

3. 在 **集群详情** 区域，单击需要查看的集群名称。

4. 进入 **实时诊断** 的 **会话管理** 页签。

5. 单击 **行锁分析** 页签。

6. 在 **行锁分析** 页签，您可以进行如下操作：

   * 选择目标租户后，可以查看该租户的行锁详细信息，包括锁涉及的行信息和会话数量等。

   * 若需释放持有锁的会话，您可以关闭该会话。在关闭前，请确认该会话以及其上正在运行的业务 SQL 可以安全终止。

       <main id="notice" type='explain'>
      <h4>说明</h4>
      <p><ul><li>行锁分析是一项实时查询功能，仅展示等待锁时间超过 20 ms 的行锁及其相关会话信息。此功能仅支持 OceanBase 4.2 及以上版本。</li><li>行锁信息可能存在延迟。若未显示持有锁的会话 ID，说明该事务可能已经完成。</li></ul></p>
    </main>

     ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/432/%E8%A1%8C%E9%94%81%E5%88%86%E6%9E%90.png)