# 查看告警事件

本章节为您介绍如何查看告警事件详情和如何短暂屏蔽该告警事件。

## 前提条件

请确保当前登录 OCP 的用户具备如下权限：

* **集群只读**、**租户只读**、**OBProxy 只读**、**仲裁服务只读**、**Binlog 服务只读** 或 **主机只读** 任一资源权限。
* **告警中心** 菜单权限。

## 操作步骤

1. 登录 OCP。

2. 在左侧导航栏中单击 **告警中心** 。

3. 系统默认进入 **告警事件** 页签中。

4. 在查询框中设置查询条件，**告警事件** 列表中将返回所有符合查询条件的告警事件。

    * 支持对告警事件根据 **应用**、**对象类型**、**告警等级**、**关键词**、**开始时间**、**结束时间** 等条件进行精确查找。

    * 可以通过单击 **活跃告警** 和 **历史告警** 切换告警列表。

    * 单击 **导出告警事件**，可将所有符合查询条件的告警事件导出至本地。

    * 若告警事件配置了消息推送，您可单击 **消息推送** 列的 **未成功** 查看告警事件详情。

    * 若告警事件未配置消息推送，您可单击 **消息推送** 列的 **未配置消息推送** 对其进行告警推送配置，详情可参考 [新建告警推送](600.manage-alert-push/100.create-an-alert-push.md)。

    * 针对 **日志** 告警类型且告警仅出现一次、需要手动确认的活跃告警事件，支持对告警事件进行 **解决** 和 **屏蔽** 操作。

      * 若告警事件已被解决，您可单击 **操作** 列的 **解决** 按钮消除此条告警。消除告警后，将不能对该告警进行任何操作。

      * 若告警事件无需关注，您可单击 **操作** 列的 **屏蔽** 对告警消息进行快速屏蔽。屏蔽告警后，在设置的结束时间前，该告警不会在屏蔽时间段内进行上报。具体配置说明可参考 [新建屏蔽条件](800.manage-blocking-conditions/100.create-a-blocking-condition.md)。

    ![Image 3](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/430/%E5%91%8A%E8%AD%A6%E4%BA%8B%E4%BB%B6%E5%88%97%E8%A1%A81.png)

5. 选择需要查看的告警事件，单击告警说明，进入告警事件 **详情** 页。

   1. 在告警 **基本信息** 模块查看告警事件的基本信息。

       * 单击 **告警对象** 名称，可查看告警对象的详细信息。
       * 单击 **告警规则** 名称，可查看该告警规则的详细信息。若需要修改告警规则，可单击规则详情页的 **编辑告警规则** 按钮进行调整，详情可参考 [修改告警规则](300.manage-alert-rules/400.edit-an-alert-rule.md)。
       * 单击 **查看告警处理建议** ，您可查看对于该类告警的相关处理建议。

        ![Image 4](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/430/%E5%91%8A%E8%AD%A6%E6%B6%88%E6%81%AF%E4%BF%A1%E6%81%AF.png)

   2. 在 **告警事件历史** 模块查看告警事件历史及相关信息，包括 **告警时间**、**告警等级** 和 **告警状态**。

       ![5](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/420/%E5%91%8A%E8%AD%A6%E4%BA%8B%E4%BB%B6%E5%8E%86%E5%8F%B2.png)

   3. 在 **告警消息** 列表中查看告警消息通知记录。

       ![6](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/420/%E5%91%8A%E8%AD%A6%E6%B6%88%E6%81%AF.png)

   4. 在告警事件详情页中单击右上角 **屏蔽告警** ，对告警消息进行快速屏蔽。

      屏蔽告警后，在设置的结束时间前，该告警不会在屏蔽时间段内进行上报。

   5. 在告警事件详情页中单击右上角 **告警分析数据**，下载告警分析涉及的相关日志。

6. 当收到的告警事件过多时，您可按需对告警进行清理。

     1. 在左侧导航栏中单击 **系统管理** **\>** **参数管理** 。
     2. 在参数列表中搜索 `ocp.alarm.notification.expired-days` 参数，配置告警归档天数。

          参数配置后，超过归档天数的告警消息、告警事件历史记录将被删除，主要包括以下过期数据：

        * `ocp2_alarm_notification`
        * `ocp_alarm_event_notification`
        * `ocp2_alarm_event_history`
        * `ocp_alarm_event_record`
        * `ocp2_alarm_filter` （清理的数据写入   `ocp2_alarm_filter_history`， 规则信息不会很多，历史表无需清理）。

     <main id="notice" type='notice'>
     <h4>注意</h4>
     <p><ul><li>告警清理周期一般不建议配置的过短，可设置几个月清理一次。</li><li>告警不应长时间未恢复而不处理，需注意为用户配置告警推送，用户在收到告警信息后，建议及时进行响应。</li><ul></p>
     </main>
