# 查看集群拓扑图

OCP 提供了全新的拓扑图功能，您可以查看集群和租户中各 Zone 与 OBServer 节点之间的逻辑关系。

## 前提条件

在集群 **拓扑图** 页面，针对不同的操作，要求用户需具备的权限有所不同：

* **查看拓扑图信息**

   如查看 OceanBase 集群的 ID、集群类型（主或备）、集群当前状态、备库延迟时间、集群仲裁服务地址、仲裁服务当前状态、仲裁服务的完整信息、集群下租户开启仲裁服务的情况、Zone 名称、Zone 当前状态、Zone 下的运行信息、Server IP 地址、Server 当前状态、Server 下的运行信息等，请确保登录 OCP 的用户具备如下权限：

   * **集群只读** 资源权限。
   * 集群 **拓扑图** 菜单权限。

* **执行运维操作**

   如执行新建备集群、新增 Zone、编辑 Zone、添加 OBServer 节点、升级版本、修改密码、重启集群、停止集群、删除集群、备集群切为主集群、查看集群、重启 Zone、停止 Zone、删除 Zone、重启、启动 OBServer、停止 OBServer 服务、停止 observer 进程、替换 OBServer、删除 OBServer 等运维操作时，请确保登录 OCP 的用户具备如下权限：

   * **集群维护** 资源权限。
   * 集群 **拓扑图** 菜单权限。

## 操作步骤

1. 登录 OCP 。

2. 在左侧导航栏单击 **集群** ，系统默认进入 **集群列表** 页签。

3. 在 **集群列表** 中选择待操作的集群并单击其集群名，进入集群 **概览** 页面。

4. 在显示的页面的左侧导航栏上，单击 **拓扑图** ，进入集群拓扑图页面。

   * 当集群为 V4.0 以下版本时，页面左上角展示保护模式信息，详见 [集群概览页概述](300.manage-a-cluster/200.overview-of-the-cluster-details-page.md)。

   * 备集群上方显示同步状态。

   ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/410/%E9%9B%86%E7%BE%A4%E4%BB%B2%E8%A3%81%E6%9C%8D%E5%8A%A1.png)

   页面右上角提供了一些功能按钮，您可以通过这些按钮来调整拓扑图的大小或刷新当前拓扑图。

   拓扑图从上到下主要分为集群、集群仲裁服务、Zone、Server 四层，可通过单击 Zone 下方的 **+** 来展开显示该 Zone下的所有 Server。

   <main id="notice" type='explain'>
   <h4>说明</h4>
   <p><b>集群仲裁服务</b> 仅在集群添加仲裁服务后才会展示，未添加则不展示。</p>
   </main>

### 集群

集群图标上展示了 OceanBase 集群的 ID、集群类型（主或备）以及集群当前的状态；备集群图标上方还会展示当前的备库延迟时间。同时，拓扑图上还提供了集群的管理入口。

对于主集群，您可以对其执行新建备集群、新增 Zone、编辑 Zone、添加 OBServer 节点、升级版本、修改密码、重启集群、停止集群以及删除集群等操作；对于备集群，您可以对其执行切为主集群、查看集群等操作。

### 集群仲裁服务

集群仲裁服务图标上展示了集群仲裁服务的地址、以及该仲裁服务的状态。

将鼠标悬停在集群仲裁服务图标上，还可以查看仲裁服务的完整信息、及集群下租户开启仲裁服务的情况。

### Zone

Zone 图标上展示了 Zone 名称、以及 Zone 当前的状态。

将鼠标悬停在 Zone 图标上，还可以查看当前 Zone 下的运行信息，包括 QPS、连接数和 Unit 数。

同时，拓扑图上还提供了 Zone 的管理入口，您可以对 Zone 执行添加 OBServer 节点、重启、停止及删除 Zone 等操作。

### Server

Server 图标上展示了 Server 的 IP 地址以及 Server 当前的状态。

将鼠标悬停在 Server 图标上，还可以查看当前 Server 下的运行信息，包括 QPS、连接数和 SQL 端口。

同时，拓扑图上还提供了 Server 的管理入口，您可以对 Server 执行重启、启动、停止服务、停止进程、替换、删除等操作。
