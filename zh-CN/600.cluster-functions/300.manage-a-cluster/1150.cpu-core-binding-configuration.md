# 管理 CPU 绑核配置

taskset 是一个用于将进程或线程绑定到特定的 CPU 核心或者 CPU 组的 Linux 命令。通过 taskset 命令，可以限制进程或者线程只在指定的 CPU 核心上运行，以实现更好地性能优化和资源控制。通过 taskset 命令可以指定进程或线程运行在具体某个 CPU 核心上，避免不必要的 CPU 切换，从而提高程序的性能。

CPU 绑核配置也称 CPU 亲和性设置，是一种操作系统的调度技术，在需要指定 OceanBase 集群下的线程或者进程在某些特定的 CPU 核心上运行的场景下，可进行 CPU 绑核配置的操作。

## 前提条件

当前登录账号需具备 OceanBase 集群的管理权限。

## 配置 CPU 绑定范围

1. 登录 OCP。

2. 在左侧导航栏单击 **集群**，系统默认进入 **集群列表** 页签。

3. 在集群列表中选择待操作的集群并单击其集群名。

4. 进入集群 **概览** 页面，单击右上角 **...** 图标，选择 **CPU 绑核配置**。

5. 单击 **配置 CPU 绑定范围**，在弹窗中进行如下配置。

   * **为多个 Zone 配置相同的 CPU 绑定范围**

     * 选择绑定对象：支持选择单一 Zone 或多个 Zone 作为绑定对象，系统默认选择该集群下全部 Zone。当选择了需要绑核的 Zone 后，系统会对这些 Zone 的 OBServer 进程进行 CPU 绑核配置。

     * 输入 CPU 绑定范围：单击图 ① 的 **添加**，支持为 Zone 配置多个 CPU 绑定范围。

   * **为多个 Zone 配置不同的 CPU 绑定范围**

     单击图 ② 的 **添加**，支持添加多组 Zone CPU 绑核信息，此时绑定对象的 Zone 具有唯一性，不支持重复选择。

    ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/432/%E7%BB%91%E6%A0%B8.png)

6. 配置完成后单击 **确定**。

7. 您可在对话框中单击任务 ID 查看任务进度；或在任务中心查看该任务的绑核进度。

   当任务状态为 **执行成功**，且集群状态为 **正常运行** 时，表示该集群的 CPU 绑核配置成功。

## 停用/启用 CPU 绑定配置

1. 登录 OCP。

2. 在左侧导航栏单击 **集群**，系统默认进入 **集群列表** 页签。

3. 在集群列表中选择待操作的集群并单击其集群名。

4. 进入集群 **概览** 界面，单击右上角 **...** 图标，选择 **CPU 绑核配置**。

5. 选择需要操作的 CPU 绑核配置，单击启用开关。

6. 在弹出的对话框中单击 **确定**。
