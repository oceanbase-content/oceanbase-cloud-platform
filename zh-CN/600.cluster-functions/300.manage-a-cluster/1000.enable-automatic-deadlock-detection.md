# 开启死锁自动检测

您可根据您的业务需求，开启死锁自动检测。

## 前提条件

* 请确保当前登录 OCP 的用户具备如下权限：

  * **集群维护** 资源权限。
  * 集群 **概览** 菜单权限。

* 当前集群版本为 V3.2.0 及以上，且集群非只读集群。

* 集群未开启死锁自动检测功能。

  <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>当集群版本为 V4.0 及以上时，系统默认开启死锁自动检测。您可在关闭死锁自动检测后使用该功能重新开启死锁自动检测。</p>
  </main>

## 操作步骤

1. 登录 OCP 。

2. 在左侧导航栏单击 **集群** ，系统默认进入 **集群列表** 页签。

3. 在 **集群列表** 中选择待操作的集群并单击其集群名。

4. 在集群 **概览** 页面，单击右上角 **...** 图标，选择 **开启死锁自动检测** 。

5. 在对话框中单击 **确定** ，即可开启死锁自动检测功能。

   开启死锁自动检测后，OceanBase 会自动发现死锁，并对死锁进行回滚，同时可保存近 7 天的死锁记录。详见 [查看死锁分析](../../1000.diagnosis-and-tuning-fuctions/300.manage-session/300.view-deadlock-analysis.md)。

   ![Image 29](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/%E6%AD%BB%E9%94%81.png)

    <main id="notice" type='notice'>
    <h4>注意</h4>
    <p>开启死锁需要消耗 2% 左右的性能，请谨慎操作。</p>
    </main>
