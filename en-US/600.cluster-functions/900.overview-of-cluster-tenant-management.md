Overview of cluster tenant management
=============================

You can view the tenants, the resource distribution information of all tenants, and monitoring data of the top 5 tenants in the cluster that you manage on OceanBase Cloud Platform (OCP).

**Prerequisites**
-----------------------------

You have all permissions on the cluster and the management permissions on its tenants.

**Procedure**
-----------------------------

1. Log on to the OCP console.

2. In the left-side navigation pane, click **Clusters**. The **Clusters** page automatically appears.

3. On the **Clusters** page, find the target cluster and click its name to go to the **Overview** page.

4. In the left-side navigation pane, click **Tenant Management** to go to the **Tenant Management** page.

5. Click **Create Tenant** to create a tenant for the cluster. For more information, see [Create a tenant](../700.tenant-functions/300.create-a-tenant.md).

6. View the resource distribution information in the **Capacity Usage Overview** section.

   The resource distribution information includes the CPU utilization, memory usage, log disk usage, and data disk usage of each tenant in percentage, as well as the remaining CPU, memory, log disk, and data disk resources of the system in percentage.

   When you move the pointer over a tenant in a pie chart, the chart displays the specific resource usage of the tenant. You can also click **View Usage Trends** in the upper-right corner of the **Data disk** area to view the data disk usage trend within a specified period of time.

   <main id="notice" type='explain'>
   <h4>Note</h4>
   <p><ul><li>If CPU overallocation is enabled for the cluster, the maximum and minimum numbers of CPU cores allocated to each tenant in the cluster are displayed in the <b>Capacity Usage Overview</b> section. </li><li>The <b>Log Disk</b> data is displayed only for a cluster of OceanBase Database V4.0 or later. </li></ul></p>
   </main>

   ![Image 79](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/430/capacity-usage-overview.png)

7. In the **Tenants** section, view the basic information of all tenants in the following columns: Tenant Name, Tag, OceanBase version number, Mode, Primary Zone, Read-only, Locked, Status, and Created On.

   * You can hover the pointer over the **Tag** field to view all tags of a tenant. You can click the **Edit** icon to manage the tags. For more information, see [Manage tags](../1600.system-management-features/300.manage-tags/100.tags-overview.md).
   * You can lock or clone a tenant. For more information, see [Lock a tenant](../700.tenant-functions/600.manage-a-tenant/300.locked-a-tenant.md) and [Clone a tenant](../700.tenant-functions/600.manage-a-tenant/350.clone-a-tenant.md).

   ![16](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/422-en/%E9%9B%86%E7%BE%A4%E7%A7%9F%E6%88%B7%E5%88%97%E8%A1%A81.png)

8. In the **Top 5 Tenants** section, view the performance metrics of the top 5 tenants by workload, such as the QPS, TPS, SQL response time, transaction response time, number of sessions, event waiting_count, event waiting_time, capacity_tables, and capacity_partitions. You can also view the monitoring data in the last hour, last 24 hours, or last 7 days as needed.

   ![18](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/430/top.png)

   The following table describes the performance monitoring metrics.

   |   Metric    |          Description          |           Data source            |
   |----------|----------------------|---------------------------|
   | QPS      | The average number of SQL statements processed per second.  | v$sysstat                 |
   | TPS      | The average number of transactions processed per second.       | v$sysstat                 |
   | SQL Response Time | The SQL response time, in µs.         | v$sysstat                 |
   | Transaction Response Time   | The average processing time per transaction on the server, in μs.    | v$sysstat                 |
   | Sessions      | The number of sessions and the number of active sessions. | __all_virtual_processlist |
   | Event waiting_Number of times  | The average number of wait events per second.       | v$system_event            |
   | Event waiting_Time  | The average wait time per wait event, in μs.    | v$system_event            |
   | Capacity_Number of tables   | The number of tables.               | gv$table                  |
   | Capacity_Number of partitions  | The number of partitions.              | v$partition               |
