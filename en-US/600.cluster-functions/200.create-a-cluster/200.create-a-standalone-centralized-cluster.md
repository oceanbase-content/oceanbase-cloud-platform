# Create a standalone centralized database

The standalone centralized mode is a streamlined database architecture of OceanBase Database. Compared with a distributed cluster, a standalone centralized database requires only one host and is easy to deploy and ready to use. This topic describes how to create a standalone centralized database.

## Background information

The standalone centralized architecture supports only one data replica, which means data loss may occur when storage or hardware fails. We recommend that you regularly back up critical business systems or configure high availability (HA) solutions, such as tenant-level primary/standby databases and multi-replica disaster recovery, to avoid single points of failure.

## Prerequisites

* You have logged in to the OceanBase Cloud Platform (OCP) console with an account that has the privilege to create clusters.

* Only OceanBase Database V4.1.0 and later support this deployment mode.

## Procedure

1. Log in to the OCP console, click **Clusters** in the left-side navigation pane to go to the **Clusters** page. Find the entry to cluster creation based on the actual business scenario.

   1. If you do not have a manageable cluster, the system displays a message on the **Clusters** tab, prompting you to create one. Click **Create Cluster** in the message.

   2. If you already have a manageable cluster, go to the **Clusters** tab and then click **Create Cluster** in the upper-right corner.

2. In the **Create Cluster** dialog box, select **Standalone Centralized**.

3. Set the basic information of the cluster. The following table describes the parameters in the **Basic Settings** section.

     | Parameter | Description |
     |-----|-------|
     | **Cluster Name** | The name of the cluster to be created. The cluster name must be 2 to 48 characters in length and can contain uppercase and lowercase letters, digits, and underscores (_). The cluster name must start with letters. |
     | **root@sys Password** | This password can be customized or randomly generated. The password must meet the following complexity requirements:<ul><li>The password must be 8 to 32 characters in length.</li><li>The password must contain characters of at least three of the following types: digits (0 to 9), uppercase letters (A to Z), lowercase letters (a to z), and special characters. Supported special characters are: <code>~ ! @ # % ^ & * _ - + = \ | ( ) { } [ ] : ; , . ? /</code>.  </li></ul> |
     | **OceanBase version** | You can select an OceanBase Database version from the drop-down list or click **Add Version** at the bottom of the list to upload an OceanBase Database version.  |
     | **Zone Name** | You can retain the default name or define a custom name. A zone name must consist of 2 to 48 characters, including uppercase and lowercase letters, digits, and underscores (_), and start with a letter. In an OceanBase cluster that consists of multiple zones, the cluster must have a zone that shares the same region as that of the primary zone.  |
     | **Host** | Select a host that has the same architecture as that of the selected OceanBase Database version. The selected host runs both the observer and rootserver processes. If no host is available in the drop-down list, you can click **Add Host** in the drop-down list to add a host.   |
     | **Load Type**  | You can select a load type for the cluster. The load type mainly affects the time required to identify SQL queries (parameter name: large_query_threshold). The RT of OLTP loads may be seriously affected. Proceed with caution. OCP supports five types of cluster loads. <ul><li>**Express OLTP**: suitable for workloads such as trading and core payment systems and high-throughput online applications. Such workloads do not involve restrictions such as foreign keys, stored procedures, long-running or large transactions, complex join operations, or complex subqueries. <br>Supported versions: This template applies to OceanBase Database V4.2.5 and later. </li><li>**HTAP**: suitable for hybrid transaction and analytical processing (HTAP) workloads. You can use it to quickly get insights from campaign operation data, fraud detection, and scenario-specific recommendations. <br>Supported versions: This template applies to OceanBase Database V4.2.5 and later. </li><li>**OLAP**: suitable for real-time data warehouse analytics. <br>Supported versions: This template applies to OceanBase Database V4.3.0 and later. </li><li>**Complex OLTP**: suitable for workloads such as banking and insurance systems. These workloads often involve complex join operations, complex subqueries, batch processing jobs compiled in PL, long-running transactions, and large transactions. Short-running queries are sometimes executed in parallel. <br>Supported versions: This template applies to OceanBase Database V4.2.5 and later. </li><li>**OBKV**: suitable for workloads that involve a high throughput and are sensitive to latency, such as key-value workloads and wide-column workloads of an HBase database. <br>Supported versions: This template applies to OceanBase Database V4.2.5 and later. </li></ul> |

     ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/432/basic-settings.png)

4. Choose whether to enable the cgroup feature for the cluster.

   The cgroup feature supports CPU resource isolation between tenants and within a tenant in the OceanBase cluster. When you create an OceanBase cluster of V4.0 or later, the cgroup feature is enabled by default to enhance CPU and IOPS isolation. It will cause a performance degradation of approximately 7%. If your business involves a single tenant and less than 14 CPU cores and requires high database performance, we recommend that you disable the cgroup feature. In addition, if the operating system kernel version on the host is earlier than V4.1.9, you cannot create tenants in the cluster. In this case, the cgroup feature is disabled by default, and you cannot enable it.

5. Enable **CPU Overallocation Settings** and configure a CPU overprovisioning quota. You can configure the overprovisioning quota by dragging the slider or specifying a value ranging from 101% to 200% in the textbox. The default value is 120%.

   Loads of different tenants in the system can be alternately processed in a controlled manner. This allows you to improve resource utilization by overprovisioning CPU resources. An OceanBase cluster may be overloaded if the loads for different business scenarios are processed at the same time. This results in CPU contention among threads of different tenants and degrades business performance.

    <main id="notice" type='explain'>
    <h4>Note</h4>
    <p><ul><li>CPU overprovisioning is supported only in OceanBase Database V4.0 and later. You can configure an appropriate overprovisioning quota to make full use of the hardware resources. </li><li>CPU overprovisioning depends on the cgroup configuration. Enable the cgroup feature for the cluster before you configure the CPU overprovisioning quota. </li></ul>
    </p></main>

   ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/430/CPU-overallocation-settings.png)

6. Enable **Parameter Settings** and specify related cluster parameters.

   You can adjust the CPU, memory, data disk, and log disk capacities at the cluster level by specifying the following parameters: <code>cpu_count</code> (default value: automatically adjusted), <code>memory_limit_percentage</code> (default value: 80%), <code>system_memory</code> (default value: 30GiB), <code>data_disk_usage_limit_percentage</code> (default value: 90%), <code>datafile_size</code>, <code>clog_disk_usage_limit_percentage</code> (default value: 90%), and <code>log_disk_size</code>. For more information about the parameters, see <a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001228473">Overview</a>.

    * If you have selected a load type in the **Basic Settings** section, the system automatically selects the parameter template corresponding to the selected load type.

    * You can click the button in section ① of the following figure to add startup parameters one by one and set their values.

    * You can also click **Select Parameter Template** as shown in section ② of the following figure and then select a parameter template. The system will automatically populate parameters in this section by using the template. If no cluster parameter template is available, you can click **Create Cluster Template** to create one. For more information, see [Manage cluster parameter templates](../1200.cluster-parameters-template-management.md).

    The system provides six built-in templates that contain general parameters. You can use a template for cluster configuration. The following table describes the built-in templates.

   | Template | Description |
   |------|------|
   | Default Parameter Template for COMPLEX_OLTP   | The default template for the **Complex OLTP** load type. It applies only to OceanBase Database V4.2.5 and later.   |
   | Default Parameter Template for HTAP   | The default template for the **HTAP** load type. It applies only to OceanBase Database V4.2.5 and later. |
   | Default Parameter Template for KV   | The default template for the **OBKV** load type. It applies only to OceanBase Database V4.2.5 and later.   |
   | Default Parameter Template for EXPRESS_OLAP   | The default template for the **Express OLAP** load type. It applies only to OceanBase Database V4.2.5 and later. |
   | Default Parameter Template for OLAP   | The default template for the **OLAP** load type. It applies only to OceanBase Database V4.3.0 and later.   |
   | Default Parameter Template for OceanBase Database V2.2.77   | The template recommended for a production cluster of OceanBase Database V2.2.77.   |

   ![09161737](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/432/parameter-settings.png)

7. Enable **Custom Settings** to configure paths and ports.

   * Configure the paths:
      1. In the **Path Settings** section, specify **Software Installation Path**, **Data Disk Path**, and **Log Disk Path** as needed.
      2. Click **Test** to check whether the paths can be used. If a path cannot be used, you can perform troubleshooting based on the test results, or use another path.

      <main id="notice" type='notice'>
      <h4>Notice</h4>
      <p>In a production environment, we recommend that the size of the log disk be at least three times the memory size of the host. To avoid performance issues, we recommend that you do not create the data directory and the log directory on the same disk. </p>
      </main>

   * Configure the ports.
      1. In the **Port Settings** section, specify **SQL Port** and **RPC Port** as needed.
      2. Click **Test** to check whether the ports are occupied. If a port is occupied, you must use another port.

    ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/432/custom-settings.png)

8. After the test succeeds, click **Submit**.

9. Confirm the information in the right-side panel, and click **OK**.

10. In the **Note** dialog box, specify whether to create a user tenant.

    * If you do not need to create a tenant, click **Skip**. In this case, only the cluster is created. For more information about how to create a user tenant, see [Create a tenant](../../500.quickstart/600.quickstart-create-a-tenant.md).
    * If you need to create a tenant, set the tenant mode and tenant name. After the configuration is complete, click **Create and Submit**. You can view the task progress in **Task Center**.

      The following table describes the parameters.

      | Parameter | Description |
      |-----|-------|
      | Tenant Mode | The mode of the tenant. Default value: **MySQL**. |
      | Tenant Name | The name of the tenant, which is the same as the tenant mode by default. You can use a custom name instead.  |

    ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/410/%E5%88%9B%E5%BB%BA%E7%A7%9F%E6%88%B7%E6%8F%90%E9%86%92-1.png)
