# Restart OCP

This topic describes how to restart OceanBase Cloud Platform (OCP). The restart procedure varies based on the OCP version.

<main id="notice" type='explain'>
<h4>Note</h4>
Before you restart OCP, make sure that its MetaDB cluster works properly.
</main>

## OCP V4.0.3-CE BP1

For OCP V4.0.3-CE BP1, run the following commands:

```shell
ocp-installer cluster stop <OCP name>
ocp-installer cluster start <OCP name>
```

## OCP of a version earlier than V4.0.3-CE BP1

For OCP of a version earlier than V4.0.3-CE BP1, you can restart OCP by **restarting or replacing the OCP container**.

### Restart OCP by restarting the OCP container

You can use this method if the OCP container works properly but a restart is required for the parameter modifications to take effect. Run the following command to restart the OCP container:

```shell
docker restart ${ocp_container_name} # Generally, the OCP container is named ocp.
```

### Restart OCP by replacing the OCP container

<main id="notice" type='explain'>
<h4>Note</h4>
This method applies only to OCP of a version within the range from V3.3.0-CE BP1 to V4.0.3-CE.<b></b>
</main>

You can use this method if the OCP container cannot be properly started and a new container must be created. To restart OCP by using this method, make sure that the deployment files, such as `config.yaml`, `ocp-installer.tar.gz`, and `ocp.tar.gz`, exist on the OCP server and that the configurations in the `config.yaml` file match the current environment.

Run the following commands to replace the OCP container:

```shell
cd ${installer_path}
./ocp_installer.sh replace -c config.yaml -i ocp-installer.tar.gz -o ocp.tar.gz -k ${path_to_key_file}
```

<main id="notice" type='explain'>
<h4>Note</h4>
If no key is required for authentication, the <code>-k</code> parameter can be omitted.
</main>
