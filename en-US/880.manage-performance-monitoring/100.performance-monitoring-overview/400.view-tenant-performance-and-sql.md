# View the performance and SQL monitoring data of a tenant

OceanBase Cloud Platform (OCP) allows you to view the performance and SQL monitoring data of a tenant by using the following methods:

* **Method 1:**

   Log on to the OCP console and go to the **Overview** page of the target tenant. In the left-side navigation pane, click **Performance Monitoring**.

* **Method 2:**

   Log on to the OCP console and click **Performance Monitoring** in the left-side navigation pane to go to the **OceanBase Database Tenant** tab.

## Prerequisites

You have the **read-only** permission on the target tenant.

## Procedure

The procedure of **Method 2** is described as follows:

1. Log on to the OCP console.

2. In the left-side navigation pane, click **Performance Monitoring**.

3. Select the **OceanBase Database Tenant** tab.

4. In the **Data Filtering** section, configure the parameters for filtering monitoring data.

   The following table describes the filter parameters.

   |     Parameter  |  Description  |
   |---------------|---------|
   | Cluster | This parameter is not displayed in auto-refresh mode. Select a cluster to view its monitoring information.  |
   | Zone | By default, the monitoring information of all zones is displayed. |
   | OBServer | By default, the monitoring information of all OBServer nodes is displayed. |
   | Select Time | This parameter is not displayed in auto-refresh mode. Select the time range of the data that you want to query.  |
   | Auto Refresh  | By default, the auto-refresh mode is disabled. After it is enabled, performance monitoring data is refreshed every 5 seconds. |
  
   ![Image 113](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/420/%E7%A7%9F%E6%88%B7%E7%9B%91%E6%8E%A7-1.png)
  
5. On the **Host Performance** tab, view the performance and SQL monitoring data of tenants.

   For more information about the monitoring metrics, see [Overview of metrics](../../1900.reference-guide/300.monitoring-indicator-reference/100.overview-of-metrics.md). If the statistical range covers multiple OBServer nodes, the aggregate metric values of the OBServer nodes are displayed.

     <main id="notice" type='notice'>
      <h4>Note</h4>
      <p>
      <ul>
      <li>The metrics related to the SQL execution time apply to OceanBase Database V3.2.4.1 and later, excluding V4.0.0.0. </li>
      <li>The metrics related to SQL execution phase apply to OceanBase Database V4.2.0.0 and later but earlier than V4.3.0.0. The <code>in_committing</code>, <code>in_storage_read</code>, <code>in_storage_write</code>, and <code>in_remote_das_execution</code> metrics apply only to OceanBase Database V4.2.1.0 and later but earlier than V4.3.0.0. The <code>in_plsql_compilation</code> and <code>in_plsql_execution</code> metrics apply only to OceanBase Database V4.2.2.0 and later but earlier than V4.3.0.0. </li>
      <li>The metrics related to the foreground wait events and background wait events apply to OceanBase Database V4.2.0.0 and later but earlier than V4.3.0.0. </li>
      <li>In the <b>Response Time</b> monitoring chart, the <code>95-all</code> and <code>99-all</code> metrics have the following limitations: <ul><li>The metric applies only to OceanBase Database of a version in the following ranges: [V4.2.1.7,V4.2.2.0), [V4.2.5.0,V4.3.0.0), and [V4.3.3.0,+∞). </li><li>You need to configure the following parameters on <b>Parameter Management</b> page of the tenant in advance: Set the <code>query_response_time_stats</code> parameter to `true` to enable statistics, the <code>query_response_time_range_base</code> parameter to specify the statistical interval, such as `2`, and the <code>query_response_time_flush=true</code> parameter to `true` to refresh the corresponding view and make the statistical interval effective. </li></ul></li>
      </ul></p>
      </main>

   The following features allow you to view and analyze the performance monitoring data on a trend chart in a more efficient manner. You can learn about the features with the help of the figure below.

   ![Image 114](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/420/%E7%A7%9F%E6%88%B7sql%E7%9B%91%E6%8E%A7-1.png)

   * Filter data.

     1. View the trend details of a metric over a specific period of time: To use this feature, drag the pointer over a period of time to select this period. The system will then zoom in to display the trend details. To resume to the normal view, double-click the trend chart, as indicated by ① in the preceding figure.

     2. Hide the data of a submetric: To use this feature, click the icon of this submetric. The submetric will then turn gray and its data will be hidden from the chart, as indicated by ② in the preceding figure.

     3. View the detailed data of a specific point in time: To use this feature, hover the pointer over a point in time on the trend chart, as indicated by ③ in the preceding figure.

   * Zoom in on a trend chart: To use this feature, click the zoom-in icon in the upper-right corner of the chart. The features indicated by ①, ②, and ③ in the preceding figure are also applicable to a zoomed-in chart.

   * View SQL request analysis: On the **Response Time** trend chart, click **SQL Request Analysis** in the upper-right corner to view the request analysis details. For more information, see [View request analysis](../../1000.diagnosis-and-tuning-fuctions/100.manage-sql-diagnosis/1300.view-request-analysis.md).

        <main id="notice" type='explain'>
        <h4>Note</h4>
        <p>SQL request analysis is available only on the <strong>Response Time</strong> trend chart. </p>
        </main>

   * Drill down to view monitoring data in different dimensions: When an abnormal metric exists, such as a long response time of a tenant, perform a drill-down analysis to identify the faulty server. Click the **Drill-down Analysis** icon in the upper-right corner of the trend chart to view the drill-down analysis details. The **Performance & SQL** tab supports the following drill-down dimensions: **tenant > OBServer node**.

       The features indicated by ①, ②, and ③ in the preceding figure are also applicable to a trend chart on a drill-down page. You can also perform the following operations:

       ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/420/sql%E4%B8%8B%E9%92%BB%E7%9B%91%E6%8E%A7-1.png)

       * In the **Data Filtering** section indicated by ① in the figure, specify filter conditions. If you do not specify any filter conditions, the drill-down page automatically inherits filter conditions from the upper-level page.

       * If the metric has submetrics, you can view the submetrics or drill down to other dimensions, as indicated by ② in the figure.

       * The trend chart provides the **Search for SQL Statement with Most Requests** link, as indicated by ③ in the figure, for you to view the TopSQL diagnostic details of the tenant.

       * The trend chart also provides an entry to the host performance monitoring feature. Hover the pointer over the **Go to Host Performance Monitoring** link, as indicated by ④ in the figure, and click the target host to go to its **Performance Monitoring** page and view the monitoring details.

       * You can also click the icon indicated by ⑤ in the upper-right corner of a trend chart, and select the hosts whose performance monitoring data needs to be displayed on the trend chart.
