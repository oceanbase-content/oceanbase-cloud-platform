# OCP V4.3.3

OceanBase Cloud Platform (OCP) V4.3.3 is fully compatible with OceanBase Database V4.2.5 and V4.3.3. This version provides the columnstore replica feature, which applies to business scenarios where transaction processing (TP) and analytical processing (AP) loads need to be physically isolated at high strength. This version also supports statistics management for you to optimize database query performance and ensure stable system operation. Moreover, this version supports database- and table-level restore and implements more than 20 improvements and optimizations in terms of basic O&M, performance monitoring, inspection, and platform features. This resolves the usability and stability issues of database O&M and management tools and allows you to manage OceanBase Database more simply and efficiently.

## Version information

* **Current version:** V4.3.3

* **Previous version:** V4.3.2 BP1

* **Release date:** November 28, 2024

* **Supported upgrade paths:**

  * You can directly upgrade OCP V3.2.4 and later to the current version.

  * To upgrade OCP V2.3.x and later but earlier than V3.2.4 to the current version, you need to upgrade OCP to V3.3.4 first.

  * If you use OCP of a version earlier than V2.3.0, you must upgrade OCP first to V2.3.x and then to V3.3.4.

## Supported OceanBase Database versions

OCP V4.3.3 supports the following versions of OceanBase Database:

* OceanBase Database V4.x
* OceanBase Database V3.2.x
* OceanBase Database V3.1.x
* OceanBase Database V2.2.x
* OceanBase Database V2.1.x
* OceanBase Database V1.4.x

## New features

### Basic O&M

* **Columnstore replicas (experimental)**: When you create a tenant or add a replica, you can set the replica type to read-only columnstore replica for the tenant. This feature applies to business scenarios where TP and AP loads are physically isolated at high strength.

    <main id="notice" type='explain'>
    <h4>Note</h4>
    Read-only columnstore replicas have the following limitations:
    <ul><li>The version of OceanBase Database must be V4.3.3 or later. </li>
    <li>The version of OBProxy must be V4.3.2 or later. </li>
    <li>An OBProxy cluster must be separately deployed for accessing columnstore replicas. </li></ul>
    </main>

* **Statistics management**: You can manage the statistics O&M window, collect database- or table-level statistics, lock statistics, and view top 10 tables with the most DML operations.

    <main id="notice" type='explain'>
    <h4>Note</h4>
    Only OceanBase Database V4.0.0 and later support the statistics management feature.
    </main>

* **Tenant major compactions**: You can pause and resume major compactions for tenants. In other words, you can control the progress of major compactions to prevent them from affecting your business.

* **Zone attribute modification**: You can modify the region and IDC attributes of a zone.

* **Log service**:

  * Logs of binlog instances and binlog servers can be displayed.
  * The `alert.log` file of each OBServer node can be displayed in a standardized manner on the GUI to improve user experience.

    <main id="notice" type='explain'>
    <h4>Note</h4>
    Only OceanBase Database V4.2.5 and later allow you to view the `alert.log` file on the GUI.
    </main>

### Performance monitoring

* **Cluster/Tenant > Performance Monitoring**: OCP V4.3.3 newly supports unit-level monitoring. You can quickly view the monitoring metrics of a tenant on a specific host.

* **Tenant > Performance Monitoring**:

  * OCP V4.3.3 supports monitoring the parallel execution (PX) worker thread usage. You can modify related parameters to meet your business needs.
  * OCP V4.3.3 allows you to view the monitoring metrics of OBKV-Table and OBKV-HBase, and displays the response time at the 99th percentile and 95th percentile to help you better learn about the system performance.

        <main id="notice" type='explain'>
        <h4>Note</h4>
        Only OceanBase Database V4.2.5 and later allow you to view the preceding monitoring metrics.
        </main>

  * OCP V4.3.3 supports displaying the number of partition leaders (including partition leaders in global index tables), number of replicas (including read-only replicas and read-only columnstore replicas), and number of log stream leaders, to help you observe the growth trend of database objects.

* **Tenant > Resource Management**: OCP V4.3.3 supports displaying the usage trends of the data disk and log disk.

### Inspection service

When Network File System (NFS) is used as the backup medium, you can check the mount parameters, such as the version, Sync, and lookupcache.

### Backup and restore

* OCP V4.3.3 supports the restore of physical databases and tables.

     <main id="notice" type='explain'>
     <h4>Note</h4>
     Only OceanBase Database V4.x supports the restore of physical databases and tables.
     </main>

* The backup and restore feature supports accessing an object storage service, such as Amazon Simple Storage Service (S3), Tencent Cloud Object Storage (COS), or Alibaba Object Storage Service (OSS), by using the HTTP protocol.

### Platform capabilities

* The operation audit scope is extended. All change operations performed in OCP are recorded so that you can perform a security check based on the audit records.
* OCP can take over OBProxy clusters deployed by using OceanBase Deployer (obd).
* The primary/standby switchover time is reduced from 2 minutes to a value less than 10 seconds, when OCP is deployed in multi-cluster mode.

## Product optimizations

### Cluster management

* Enabling the control group (cgroup) feature will compromise the performance by about 7%. OCP V4.3.3 allows you to enable or disable the cgroup feature during cluster creation or running as needed.
* The CPU architecture is no longer displayed on the cluster list page.
* You can select a load type during cluster creation. The default load type is hybrid transaction and analytical processing (HTAP). This can improve the performance in business scenarios such as online transaction processing (OLTP), online analytical processing (OLAP), HTAP, and OBKV.

     <main id="notice" type='explain'>
     <h4>Note</h4>
     Only OceanBase Database V4.2.5 and later allow you to select a load type.
     </main>

* OCP V4.3.3 supports displaying the following message when the IOPS of the data disk or log disk is insufficient: "To ensure stable operation of OceanBase Database, we recommend that you use SSDs. If you choose to use HDDs, make sure that the IOPS of the data disk exceeds 1000 and that of the log disk exceeds 2000. If the IOPS requirements are not met, situations where system threads are accumulated or CPU or I/O resources are exhausted, easily occur, affecting businesses."
* In OCP V4.3.3, if an OceanBase cluster and an OBProxy cluster share the same host in a migration or takeover scenario, see [Migrate a cluster between IDCs in OCP](../../1850.ocp-om-best-practices/750.ocp-idc-migration.md)

### Tenant management

* OCP V4.3.3 supports displaying actual tenant IDs in the tenant list.
* OCP V4.3.3 allows you to select a load type during tenant creation. This can maximize the performance in OLTP, OLAP, HTAP, and OBKV business scenarios.

     <main id="notice" type='explain'>
     <h4>Note</h4>
     Only OceanBase Database V4.2.5 and later allow you to select a load type.
     </main>

### Others

* Alert center:
  * The cluster name is added to the alert indicating that the storage capacity for backup and restore exceeds the threshold.
  * By default, 15 alerts related to the SQL performance, `observer.log` file, and O&M are disabled for a new OCP cluster.
* OCP V4.3.3 allows you to jump from the host management or task center page to the page of a binlog cluster, and from the page of a binlog cluster or instance to the task center page to view information as needed.

## Product behavioral changes

**Backup and restore**: The step of installing the logical backup and restore service is removed from the installation wizard.

## Key features

### Read-only columnstore replicas (experimental)

OceanBase Database introduces a new deployment form that allows you to add a separate zone for storing read-only columnstore replicas based on the original cluster. This is similar to the 3 + 1 deployment form. In the new zone, all user tables are stored in columnar storage mode. In an AP business scenario, you can use an independent OBProxy cluster to access the columnstore replicas for query and analysis in weak-consistency read mode, without affecting TP business. This feature particularly applies to business scenarios where TP and AP loads need to be physically isolated at high strength. To facilitate the use of the columnstore replica feature, OCP allows you to select a certain zone as a read-only columnstore replica during tenant creation, add read-only columnstore replicas during tenant running, and manage read-only columnstore replicas in primary/standby tenant mode.

<main id="notice" type='explain'>
<h4>Note</h4>
<ul><li>Read-only columnstore replicas have the following limitations: <ul><li>The version of OceanBase Database must be V4.3.3 or later. </li><li>The version of OBProxy must be V4.3.2 or later. </li></ul></li></ul><ul><li>OBProxy cluster parameters must be specially configured for read-only columnstore replicas. For more information, see the description of read-only columnstore replicas in the <a href="../../700.tenant-functions/300.create-a-tenant.md">Create a tenant</a> topic. </li></ul>
</main>

### Statistics management

The query optimizer of OceanBase Database evaluates the costs of execution plans based on the database statistics. Database statistics are closely related to query efficiency and serve as the basis for quick system response and low latency. Statistics must be updated in real time to ensure stable and efficient operation of the database system. OCP provides statistics of tables whose statistics are not collected, top 10 tables with the most DML operations, statistics query, database- and table-level statistics collection, statistics collection window maintenance, and statistics collection task management. You can view, lock, and stop statistics collection tasks to better manage and maintain the database, ensuring stable database operation.

<main id="notice" type='explain'>
<h4>Note</h4>
<ul>
<li>Only OceanBase Database V4.3.3 and later support statistics management. </li>
<li>Statistics management is supported only for business tables, which are created by users, and not supported for system tables. </li>
</ul>
</main>

## Bug fixes

The following issues are fixed in OCP V4.3.3:

* Fixed the issue of partial collection of Open Archive Service (OAS) transaction data when many concurrent transactions were in progress.
* Fixed the issue where a failed node in an OceanBase cluster cannot be replaced.
* Fixed the issue where a failover cannot be immediately performed in multi-cluster mode.
* Fixed the issue of unsmooth operations in input boxes.

## Known issues

| No. | Known issue | Solution |
|-------|---------|---------------|
| 1 | You cannot select a parameter template for a standby Oracle tenant. | We recommend that you do not include special parameters in the selected template. |
| 2 | The details about the sampled SQL statement are inaccurate. | No solution is available now. You can view the accurate data in the MetaDB of OCP. |
| 3 | The displayed backup time is incorrect when the time zone of OceanBase Database is inconsistent with that of OCP. | We recommend that the time zone of OceanBase Database be consistent with that of OCP. |

# Limitations

## Hardware requirements

OCP-Server can be installed on a physical server or in a Docker container. OCP-Server supports the multi-node HA deployment mode.

The following table lists the minimum hardware requirements of an OCP-Server node.

| Hardware | Requirement |
|-------|------------------------------------|
| CPU | <li>x86_64 processor with 8 cores</li><li>ARM64 processor with 8 cores</li> |
| Memory | 16 GiB available memory |
| Network interface card (NIC) | 10 Gbit/s NIC |

OCP-Agent takes up a few resources and has no special requirements for hardware.

## Operating system requirements

The following table lists the operating system requirements for installing OCP-Server (including OCP-Agent).

| Server architecture | Operating system | Supported version |
|-------------|------------|-----------|
| x86_64 | Red Hat Enterprise Linux (RHEL) | 7.2 and later |
| x86_64 | CentOS | 7.2 and later |
| x86_64 | AliOS | 7.2 and later |
| x86_64 | openSUSE | 12SP3 and later |
| ARM64 | AliOS | 7.2 and later |
| ARM64 | NeoKylin | 7.6 |
| ARM64 | Huawei EulerOS | 2.0 SP8 |
| x86_64 | Debian | Debian GNU/Linux 11 (bullseye) |
| x86_64 | Ubuntu | Ubuntu 18.04.6 LTS |

## Client requirements

Generally, users use browsers to access OCP. The following client requirements apply.

| Browser | Earliest supported version |
|---------|------|
| Chrome | 88 |
| Firefox | 78 |
| Safari | 14 |
| Edge | 88 |

If you need to access OCP from an iOS device, the iOS version must meet the requirement listed in the following table.

| Operating system | Earliest supported version |
|------|------|
| iOS | 10 |

We recommend that you use displays with a resolution greater than 1440 × 810 to ensure optimal use experience.
