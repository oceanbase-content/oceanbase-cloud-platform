# Collect major compaction parameter settings

## Description

You can query the settings of parameters related to major compactions.

## Statement

OceanBase Database of a version earlier than V4.0.0:

```sql
SELECT NULL tenant_id,zone,svr_ip,svr_port,name,value,info,section,scope,edit_level 
                              FROM __all_virtual_sys_parameter_stat 
                              WHERE name IN (
                                  'merge_thread_count', 
                                  'minor_freeze_times',
                                  'zone_merge_timeout',
                                  'zone_merge_concurrency',
                                  'default_progressive_merge_num',
                                  'merger_check_interval'
                              )
```

OceanBase Database V4.0.0 and later:

```sql
SELECT tenant_id,zone,svr_ip,svr_port,name,value,info,section,scope,edit_level 
                            FROM __all_virtual_tenant_parameter_info 
                            WHERE name IN (
                                'compaction_low_thread_score', 
                                'major_freeze_duty_time',
                                'major_compact_trigger',
                                'default_progressive_merge_num',
                                'merger_check_interval'
                            )
```

The parameters are described as follows:

* `merge_thread_count`: the number of worker threads for the daily major compaction.
* `minor_freeze_times`: the number of minor compactions that triggers a global major compaction.
* `zone_merge_timeout`: the timeout period for the major compaction of a zone.
* `zone_merge_concurrency`: the number of zones that can be compacted in parallel in a major compaction. If this parameter is set to `0`, the system determines the best degree of parallelism based on the actual deployment status.
* `default_progressive_merge_num`: the default number of progressive major compaction rounds for a new table.
* `merger_check_interval`: the interval for scheduling the thread for checking the major compaction status.
* `compaction_low_thread_score`: the weight of CPU time slices occupied by the worker threads for low-priority compaction tasks.
* `major_freeze_duty_time`: the time to trigger a freeze and a major compaction every day.
* `major_compact_trigger`: the number of minor compactions that triggers a global major compaction.
