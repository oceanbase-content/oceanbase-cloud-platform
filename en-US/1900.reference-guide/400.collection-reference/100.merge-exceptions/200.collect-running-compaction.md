# Collect information about the ongoing major compaction in a cluster

## Description

You can query information about the ongoing major compaction in a cluster, such as the major compaction progress.

## Statement

OceanBase Database of a version earlier than V3.2.4:

```sql
SELECT (merged_ss_store_count/ss_store_count)*100 percentage, *
FROM __all_virtual_partition_sstable_image_info
HAVING percentage < 100;
```

OceanBase Database V3.2.4 and later:

```sql
SELECT (1-unfinished_data_size/data_size)*100 percentage, *
FROM __all_virtual_server_compaction_progress WHERE status != 'FINISH';
```

## Troubleshooting method

You can view the progress of an unfinished major compaction based on the collected information.
