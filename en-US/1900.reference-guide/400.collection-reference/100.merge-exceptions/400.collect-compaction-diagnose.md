# Collect diagnostic information about major compactions

## Description

You can collect the diagnostic information about major compactions of a cluster, and use the diagnostic table to check whether any exception occurs in partitions for which a major compaction is not completed after a long time.  

## Statement

OceanBase Database V3.2.4 and later:

```sql
SELECT * FROM __all_virtual_compaction_diagnose_info;
```

## Troubleshooting method

For more information, see [oceanbase.__all_virtual_compaction_diagnose_info](https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000000008739) and [Use the compaction_diagnose view](https://www.oceanbase.com/knowledge-base/oceanbase-database-1000000000209906).
