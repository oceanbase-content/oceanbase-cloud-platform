# Collect information about modules with highest memory usage

## Description

You can collect information about the memory usage in the specified tenant.

## Statement

```sql
SELECT
  IFNULL(t.tenant_name, m.tenant_id) tenant_name,
  m.tenant_id,
  m.svr_ip,
  m.svr_port,
  m.ctx_name,
  m.mod_name,
  m.count,
  round(m.hold / 1024 / 1024 / 1024, 5) hold_gb,
  round(m.used / 1024 / 1024 / 1024, 5) used_gb
FROM
  __all_virtual_memory_info m
  LEFT JOIN __all_tenant t ON m.tenant_id = t.tenant_id
HAVING
  tenant_name = ?
ORDER BY
  used DESC
LIMIT 10
```
