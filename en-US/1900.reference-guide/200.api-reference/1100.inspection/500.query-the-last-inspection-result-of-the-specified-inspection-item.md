# Query the last inspection result of an inspection item

## Description

You can call this operation to query the last inspection result of an inspection item based on the inspection object type, inspection scenario, and inspection object ID (optional).

## Call description

### Prerequisites

You have passed the authentication for the OceanBase Cloud Platform (OCP) application service.

### Request path

`GET /api/v2/inspection/report/info/item/{itemId}`

### Request parameters

|  Parameter  |  Type  |  Required  |  Example value  |  Description  |
|---------|---------|--------|--------|---------|
| itemId | Long | Yes | 1 | The ID of the inspection item. |
| tagId | Long | Yes | 1 | The ID of the inspection scenario. Valid values: <li>`1`: indicates basic inspection. </li><li>`2`: indicates performance inspection. </li><li>`3`: indicates in-depth inspection. </li><li>`4`: indicates installation inspection. </li> |
| objectType |  String  |  Yes  |  OB_CLUSTER  | The type of the inspection object. Valid values: <li>`OB_CLUSTER`: indicates an OceanBase cluster. </li><li>`OB_TENANT`: indicates an OceanBase Database tenant. </li><li>`HOST`: indicates a host. </li><li>`OB_PROXY`: indicates an OBProxy. </li> |
| objectId | Long | No | 1 | The ID of the inspection object. |

### Response parameters

**Basic data structure**

|     Parameter    |    Type  |          Description           |
|----------|---------|---------|
| data        | Object   | The requested business data. |
| ├─ contents | Array | The inspection result. For more information, see **Data structure of InspectionReportAggrInfo**. |
| successful | Boolean | Indicates whether the request was successful. |
| timestamp | Datetime | The timestamp when the server completed the request. |
| duration | Integer | The amount of time taken by the server to process the request, in milliseconds. |
| status | Integer | The HTTP status code. |
| traceId | String | The trace ID of the request. This trace ID is used for troubleshooting. |
| server | String | The address of the application server that responded to the request. |

**Data structure of InspectionReportAggrInfo**

|     Parameter    |    Type  |          Description           |
|---------|---------|---------|
| reportId | Long | The ID of the inspection report. |
|  objectId  |  Long | The ID of the inspection object. |
|  objectName |  String  | The name of the inspection object. |
|  objectType |  String  | The type of the inspection object. |
| tag | Object | The inspection scenario. |
| ├─ id | Long | The ID of the inspection scenario. |
| ├─ name | String | The name of the inspection scenario. |
| ├─ description | String | The description of the inspection scenario |
| ├─ configType | String | The configuration type of the inspection scenario. |
|  startTime  |  Datetime | The inspection start time. |
|  endTime  |  Datetime | The inspection end time. |
| resultList | Array | The inspection result of the inspection item. |
| ├─ itemId | Long | The ID of the inspection item. |
| ├─ name | String | The name of the inspection item. |
| ├─ description | String | The description of the inspection item. |
| ├─ reportItems | Array | The details of the inspection result of the inspection item. |
| ├─ itemId | Long | The ID of the inspection item. |
|        ├─ key | String | The key of the inspection item. |
|        ├─ value | String | The value of the inspection item. |
|        ├─ rawValue | String | The original value of the inspection item. |
|  ├─ target | String | The inspection target. |
|        ├─ level | String | The risk level. Valid values: **HIGH**, **MEDIUM**, and **LOW**. |
| ├─ rules | Array | The inspection rules. |
|        ├─ level | String | The risk level. |
|        ├─ validator | String | The value range of the corresponding risk level. |

## Examples

### Sample request

Query the result of the last basic inspection of the inspection item with the ID `14` for the cluster.

```json
GET /api/v2/inspection/report/info/item/14?objectType=OB_CLUSTER&tagId=1
```

### Sample response

```json
{
  "data": {
    "contents": [
      {
        "endTime": "2024-08-26T11:38:34+08:00",
        "itemResults": [
          {
            "description": "Check the disk usage of each mount point of the host",
            "itemId": 14,
            "name": "Host disk usage",
            "reportItems": [
              {
                "itemId": 14,
                "key": "/dev/mapper/vgob-home -> /home/admin",
                "level": "LOW",
                "rawValue": "75.44",
                "target": "xxx.xxx.xxx.xxx",
                "value": "75.44 (296 GiB/393 GiB)"
              },
              {
                "itemId": 14,
                "key": "/dev/mapper/vgob-log -> /data/log1",
                "rawValue": "4.83",
                "target": "xxx.xxx.xxx.xxx",
                "value": "4.83 (19 GiB/393 GiB)"
              },
              {
                "itemId": 14,
                "key": "/dev/vda1 -> /",
                "rawValue": "53.35",
                "target": "xxx.xxx.xxx.xxx",
                "value": "53.35 (31 GiB/59 GiB)"
              },
              {
                "itemId": 14,
                "key": "/dev/vdc -> /docker",
                "rawValue": "0.02",
                "target": "xxx.xxx.xxx.xxx",
                "value": "0.02 (64 MiB/294 GiB)"
              },
              {
                "itemId": 14,
                "key": "/dev/mapper/vgob-opt -> /opt",
                "rawValue": "0.06",
                "target": "xxx.xxx.xxx.xxx",
                "value": "0.06 (382 MiB/578 GiB)"
              }
            ],
            "rules": [
              {
                "level": "LOW",
                "validator": "[70,80)"
              },
              {
                "level": "MEDIUM",
                "validator": "[80,90)"
              },
              {
                "level": "HIGH",
                "validator": "[90,)"
              }
            ]
          }
        ],
        "objectId": 3,
        "objectName": "admin",
        "objectType": "OB_CLUSTER",
        "reportId": 75,
        "startTime": "2024-08-26T11:38:32+08:00",
        "tag": {
          "configType": "BUILTIN",
          "description": "Check the status of resources managed by OCP, such as the status of clusters and replicas. You can perform this check in routine inspections." ,
          "id": 1,
          "name": "Basic inspection"
        }
      }
    ]
  },
  "duration": 16,
  "server": "b3b6d90167",
  "status": 200,
  "successful": true,
  "timestamp": "2024-08-27T16:37:38.641+08:00",
  "traceId": "45022f1209bc8148"
}
```
