# Frozen MemStores

This topic describes the monitoring metric **Frozen MemStores** for OceanBase Database tenants. You can specify a statistical period to query the number of frozen MemStores of a tenant in a single zone or one a single OBServer node.

## Definition

The number of frozen MemStores of a tenant within the statistical period.

## Description

| **Metric** | **Metric name** | **Unit** |
|-------------|-----------------------|--------|
| frozen_memstore_count | ob_tenant_partition_frozen_memstore_count | N/A |

## Calculation expression

max(ob_partition_frozen_memstore_count{@LABELS}) by (@GBLABELS)

## SQL statements for metric collection

OceanBase Database of a version earlier than V4.0:

```sql
select /*+ MONITOR_AGENT READ_CONSISTENCY(WEAK) */ tenant.tenant_id, tenant.tenant_name, case when max(stat.cnt) is null then 0 else max(stat.cnt) end as cnt from __all_tenant tenant left join (select tenant_id, count(*) cnt, table_id, partition_id from __all_virtual_tenant_memstore_allocator_info where mt_is_frozen=1 group by tenant_id,table_id,partition_id) stat on tenant.tenant_id=stat.tenant_id group by tenant.tenant_id, tenant.tenant_name
```
